<section *ngIf="cartDetails; else mesaageEmpty" class=" bg-main-light w-75 rounded-5 mx-auto py-5 px-5 my-5 t ">

<div class="d-flex justify-content-between align-items-center ">
  <h1 class="text"> Shop Cart</h1>
  <button (click)="clearAll()" class="btn btn-outline-danger fw-bolder"> Clear Your Cart</button>
</div>
<p class="fw-bold"> Total Price: {{cartDetails.totalCartPrice | currency : 'EGP '}} </p>

<div class="row py-2 border-bottom" *ngFor="let item of cartDetails.products">
<div class="col-md-2">
  <img class="w-100 " [src]="item.product.imageCover" [alt]="item.product.title">
</div>
<div class="col-md-10 d-flex align-items-center justify-content-between ">
  <div>
    <h3 class="h6 my-3"> {{item.product.title}} </h3>
    <h3 class="text my-4 ">total price: {{item.price | currency: ' EGP '}} </h3>
    <button #deletedItem
      (click)="removeItem(item.product._id , deletedItem)"
       class="btn btn-outline-danger"> <i class="fas fa-trash-can "></i>  Remove Product</button>
  </div>
  <div class="pt-5">
    <h3 class="my-1" >total number of items: {{item.count}} </h3>
  <button  #minus
   (click)="changeCount(item.count -1 , item.product._id, minus , plus)"  class="btn btn-sm btn-outline-success my-3">-</button>

   <span> {{item.count}} </span>


  <button #plus

(click)="changeCount(item.count +1, item.product._id , minus , plus)" class="btn btn-sm btn-outline-success my-3">+</button>
</div>
</div>



</div>
<div class="w-80  text-center">
<button [routerLink]="['/payment' , cartDetails._id ]" class=" w-25 my-5 py-2 mx-auto btn btn-outline-success   ">Check Out</button>
</div>
</section>


<!-- Mesaage when cart is empty -->
<ng-template #mesaageEmpty>
<h1 class="fw-bolder fs-1 text text-center my-5">Your  Cart  Is  Empty...</h1>

</ng-template>

